[TOC]

------------------

#  一、乐鑫的 idf 框架编译环境搭建

- 主要步骤：
1. 第一步：下载 idf 框架！
2. 第二步：下载esp8266 sdk；
3. 第三步：下载 esp8266 适合3.0版本的 编译工具链；
4. 第四步：在  idf 框架 设置esp8266 适合3.0版本的 编译工具链的路径；
5. 第五步：验证是否正确环境？

##  第一步：下载 idf 框架！

- 访问 [链接](https://docs.espressif.com/projects/esp-idf/zh_CN/latest/get-started/windows-setup.html) 获取 idf 框架 ！

 

##  第二步：下载esp8266 sdk；

- 请先确定你拥有 git 环境，然后打开 ```mingw32.exe```：
- 我为大家提供 码云国内镜像，大家拉取非常快！注意拉取的是 3.2分支 ！

 ```
 git clone -b v3.2 https://gitee.com/xuhongv/ESP8266_RTOS_SDK.git
 ```

##   第三步：下载 esp8266 适合3.0版本的 编译工具链；

- Windows 平台 5.0 版本 100 ：[链接](https://dl.espressif.com/dl/xtensa-lx106-elf-win32-1.22.0-100-ge567ec7-5.2.0.zip)
- 放进把我们前面文件夹的子文件opt里面！我会在群上传一个 92 版本的工具链！


##   第三步：在 idf 框架 设置esp8266 适合3.0版本的 编译工具链的路径；

- 给 编译工具链解压文件以管理员身份权限（否则后面会报错）请务必用winRar解压软件，不要用其他解压软件，正常解压后是有 100M多的，请检查解压后的文件夹有没有这个大小！！
- 指定编译路径：打开子文件夹\etc\profile.d里面的 esp32_toolchain.sh文件，最好用notepad++这些编程编辑器打开，不用用记事本打开！因为笔记本会默认修改一些换行符导致编译不成功！修改如下即可：主要是2个参数路径：PATH和IDF路径！注意是反斜杠！！！



```
export PATH="$PATH:/opt/xtensa-lx106-elf/bin"
export IDF_PATH="E:/Espressif/Esp32/msys32/home/XuHongYss/ESP8266_RTOS_SDK"
```


## 第五步：验证是否正确环境？

- 重新打开```mingw32.exe```，首先试下工具链：


```
echo $PATH
```


- 试下 idf 路径：
 

```
echo $IDF_PATH
```

## 第六步：Hello world 工程

- 1 因为文件夹名字是可以自由取的，而且位置也是任意放的，我喜欢把自己的工程放在自己的文件夹里面，所以我就新建一个文件夹：《MyProject》；
- 2 把ESP8266_RTOS_SDK里面的\examples\get-started的整个文件夹project_template拷贝到MyProject里面，并且重命名为HelloWorld；
- 3 然后命令符进去该文件夹cd HellWorld，如下图1：
- 4 然后我们修改下工程代码，让它显示Hello World打印：
- 5 切换到文件夹后，我们make menuconfig配置下信息即可，见图2：
命令符：make all表示仅仅编译项目不烧录；而make flash是根据我们刚刚的配置信息编译和烧录到；